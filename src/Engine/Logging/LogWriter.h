///----------------------------------------------------------------------------------------------------
/// Copyright (c) Raidcore.GG - All rights reserved.
///
/// Name         :  LogWriter.h
/// Description  :  Logger implementation to write to a file.
/// Authors      :  K. Bieniek
///----------------------------------------------------------------------------------------------------

#ifndef FILELOGGER_H
#define FILELOGGER_H

#include <fstream>
#include <filesystem>

#include "LogBase.h"

///----------------------------------------------------------------------------------------------------
/// CFileLogger Class
///----------------------------------------------------------------------------------------------------
class CFileLogger : public virtual ILogger
{
	public:
	///----------------------------------------------------------------------------------------------------
	/// ctor
	///----------------------------------------------------------------------------------------------------
	CFileLogger(ELogLevel aLogLevel, std::filesystem::path aPath);

	///----------------------------------------------------------------------------------------------------
	/// dtor
	///----------------------------------------------------------------------------------------------------
	~CFileLogger();

	///----------------------------------------------------------------------------------------------------
	/// MsgProc:
	/// 	Message processing function.
	///----------------------------------------------------------------------------------------------------
	void MsgProc(const LogMsg_t* aLogEntry) override;

	private:
	std::ofstream File;
};

#endif
