///----------------------------------------------------------------------------------------------------
/// Copyright (c) Raidcore.GG - All rights reserved.
///
/// Name         :  LdrAddonBase.h
/// Description  :  Contains the interface definition for addons.
/// Authors      :  K. Bieniek
///----------------------------------------------------------------------------------------------------

#ifndef LDRADDONBASE_H
#define LDRADDONBASE_H

#include <cstdint>

///----------------------------------------------------------------------------------------------------
/// IAddon Interface Class
///----------------------------------------------------------------------------------------------------
class IAddon
{
	public:
	///----------------------------------------------------------------------------------------------------
	/// GetSignature:
	/// 	Returns the unique signature of the addon.
	///----------------------------------------------------------------------------------------------------
	virtual uint32_t GetSignature() = 0;

	///----------------------------------------------------------------------------------------------------
	/// Load:
	/// 	Loads the addon.
	///----------------------------------------------------------------------------------------------------
	virtual void Load() = 0;
	
	///----------------------------------------------------------------------------------------------------
	/// Unload:
	/// 	Unloads the addon.
	///----------------------------------------------------------------------------------------------------
	virtual void Unload() = 0;
	
	///----------------------------------------------------------------------------------------------------
	/// Uninstall:
	/// 	Uninstalls the addon.
	///----------------------------------------------------------------------------------------------------
	virtual void Uninstall() = 0;

	///----------------------------------------------------------------------------------------------------
	/// OwnsAddress:
	/// 	Returns true, if the passed aAddress belongs to this addon.
	///----------------------------------------------------------------------------------------------------
	virtual bool OwnsAddress(void* aAddress) = 0;

	protected:
	///----------------------------------------------------------------------------------------------------
	/// ShouldLoad:
	/// 	Determines whether Load should be called.
	///----------------------------------------------------------------------------------------------------
	virtual bool ShouldLoad() = 0;

	///----------------------------------------------------------------------------------------------------
	/// ShouldUnload:
	/// 	Determines whether Unload should be called.
	///----------------------------------------------------------------------------------------------------
	virtual bool ShouldUnload() = 0;
};

#endif
